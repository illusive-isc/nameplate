import{j as N,h,k as m,E as x,r as R,H as q,l as C,m as D,o as E,p as F,u as y,v as L,U as B,w as H,x as O,y as U,z as Y,A as j,B as w,C as z,q as M,S as P}from"./b-yk2inY.js";function G(s,f,c=!1){h&&m();var i=s,e=null,a=null,r=B,S=c?x:0,u=!1;const g=(l,t=!0)=>{u=!0,v(t,l)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,t=r?a:e;l&&O(l),t&&U(t,()=>{r?a=null:e=null})}const v=(l,t)=>{if(r===(r=l))return;let p=!1;if(h){const I=R(i)===q;!!r===I&&(i=C(),D(i),E(!1),p=!0)}var b=H(),d=i;if(b&&(n=document.createDocumentFragment(),n.append(d=F())),r?e??=t&&y(()=>t(d)):a??=t&&y(()=>t(d)),b){var _=L,k=r?e:a,T=r?a:e;k&&_.skipped_effects.delete(k),T&&_.skipped_effects.add(T),_.add_callback(o)}else o();p&&E(!0)};N(()=>{u=!1,f(g),u||v(null,null)},S),h&&(i=Y)}function A(s,f){return s===f||s?.[P]===f}function J(s={},f,c,i){return j(()=>{var e,a;return w(()=>{e=a,a=[],z(()=>{s!==c(...a)&&(f(s,...a),e&&A(c(...e),s)&&f(null,...e))})}),()=>{M(()=>{a&&A(c(...a),s)&&f(null,...a)})}}),s}export{J as b,G as i};
